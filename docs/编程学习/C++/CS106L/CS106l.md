# CS106L

[书签](chrome-extension://cdonnmffkdaoajfknoeeecmchibpmkmg/assets/pdf/web/viewer.html?file=file%3A%2F%2F%2Fhome%2Fyuyou%2F%25E6%2596%2587%25E6%25A1%25A3%2FCS106L.pdf#page=27&zoom=310,-2,776)

## Introduction

- 通用编程语言
- 编译型语言
- 多范式语言
- 中级语言

## A Better C

### Stream

#### fstream

文件读取示例：

```cpp
ifstream myStream("myFile.txt"); //声明类型

ifstream myStream1; //或者
myStream1.open("myFile.txt");

int myInteger;
myStream >> myInteger; //读取
```

`.is_open()`用来检查文件被正常打开
文件写入：

```cpp
ofstream myStream("myFile.txt");

```

:::tip tip
当用字符串储存文件名时，要将 string 转换成 C-style string
`ifstream input(myString.c_str());`
:::

#### manipulator

- `setw`(set width)用来控制`cout`输出的宽度,头文件`<iomanip>`
  > 要输出的字数小于 width 时，前面补空白，大于时完整输出

```cpp
cout << setw(10) << 111 << endl;
```

还可以控制是左空白还是右空白：

```cpp
cout << '[' << left << setw(10) << "Hello!" << ']' << endl;
cout << '[' << right << setw(10) << "Hello!" << ']' << endl;
```

输出：

```txt
[          Hello!]
[Hello!          ]
```

- `setfill`和 setw 配合使用，输出大量指定字符

```cpp
cout << setfill('0') << setw(8) << 1000 << endl; // 00001000
cout << setw(8) << 1000 << endl; //00001000
```

- `boolalpha` 用于将 01 转换成`true`or`false`输出(`noboolalpha`相反)

```cpp
cout << true << endl; // 1
cout << boolalpha << true << endl; // true
```

- `hex`、`dec`、`oct` 进制相关（十六进制、十进制、八进制）

```cpp
cout << 10 << endl; // Output: 10
cout << dec << 10 << endl; // Output: 10
cout << oct << 10 << endl; // Output: 12
cout << hex << 10 << endl; // Output: a
cin >> hex >> x; // Reads a hexadecimal value.
```

- `ws`跳过空白字符

#### 判断输入失败

`input.fail()` (`input`是`ifstream`类型)
两种方法：

```cpp
while(true)
{
	if(input.fail()) break;
	...
}
```

```cpp
while(input >> myValue)
{
	...
}
```

#### stirngstream

头文件`<sstream>`
`stringstream`用临时字符串缓存区读写数据
可以解决混合类型输入输出问题
可以将混合类型分开储存

```cpp
int levelNum = /* ... */;
stringstream messageText;
messageText << "Level " << levelNum << " is out of bounds.";
MessageBoxAlert(messageText.str());
```

```cpp
stringstream myConverter;
int myInt;
string myString;
double myDouble;
myConverter << "137 Hello 2.71828";// Insert string data
myConverter >> myInt >> myString >> myDouble; // Extract mixed data
```

和进制转化配合使用：

```cpp
stringstream st;
int num = 15;
st << hex << num;//将数字转化成十六进制字符串
st >> hex >> num;//将st作为十六进制输入，num == 15;
st >> num; //默认也是作为十六进制，num == 15;
st >> dec >> num; //发生错误，num == 0;
string s = st.str();// s = "f"
```

#### getline

读取整行
`getline(stream, stirng, '\n')`

#### 拓展

##### Random Access

自由移动读取位置

- `seekp`和`seekg`
  可以将 “p” 理解为 “put”，将 “g” 理解为 “get”

```cpp
ios::beg	从文件头开始计算偏移量
ios::end	从文件末尾开始计算偏移量
ios::cur	从当前位置开始计算偏移量
```

```cpp
file.seekp(32L, ios::beg);	将写入位置设置为从文件开头开始的第 33 个字节（字节 32)
file.seekp(-10L, ios::end);	将写入位置设置为从文件末尾开始的第 11 个字节（字节 10)
file.seekp(120L, ios::cur);	将写入位置设置为从当前位置开始的第 121 个字节（字节 120)
file.seekg(2L, ios::beg);	将读取位置设置为从文件开头开始的第 3 个字节（字节 2)
file.seekg(-100L, ios::end);	将读取位置设置为从文件末尾开始的第 101 个字节（字节 100)
file.seekg(40L, ios::cur);	将读取位置设置为从当前位置开始的第 41 个字节（字节 40)
file.seekg(0L, ios:rend);	将读取位置设置为文件末尾
```

- `tellp`和`tellg`
  都是返回当前位置

### Multi-File Programs, Abstraction, and the Preprocessor(多文件处理、抽象和预处理器)

## Data Abstraction

## Object-Oriented Programming

## Generic Programming

## More to Explore
